{"version":3,"file":"main.js","mappings":"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","sources":["webpack://isaac-save-viewer/./src/fillPage.ts","webpack://isaac-save-viewer/./src/readFile.ts","webpack://isaac-save-viewer/./src/selectSaveFile.ts","webpack://isaac-save-viewer/./src/selectSaveFileSubroutines.ts","webpack://isaac-save-viewer/./src/toggle.ts","webpack://isaac-save-viewer/./src/util.ts","webpack://isaac-save-viewer/webpack/bootstrap","webpack://isaac-save-viewer/./src/main.ts"],"sourcesContent":["import * as achievements from \"./data/achievements.json\";\nimport * as easterEggs from \"./data/easterEggs.json\";\nimport * as items from \"./data/items.json\";\nimport { hideSelectSaveFileArea } from \"./selectSaveFileSubroutines\";\nimport { getElement, hide, parseIntSafe, show } from \"./util\";\n\nconst SAVE_FILE_STATS_ID = \"save-file-stats\";\nconst WIKI_PREFIX = \"https://bindingofisaacrebirth.fandom.com/wiki/\";\ntype Prefix = \"achievements\" | \"collectibles\" | \"easter-eggs\";\n\nexport function fillPage(isaacSaveFile: IsaacSaveFile) {\n  // Build out the tables on the page\n  fillAchievements(isaacSaveFile);\n  fillCollectibles(isaacSaveFile);\n  fillEasterEggs(isaacSaveFile);\n\n  // Show it\n  hideSelectSaveFileArea();\n  const saveFileStats = getElement(SAVE_FILE_STATS_ID);\n  show(saveFileStats);\n}\n\nfunction fillAchievements(isaacSaveFile: IsaacSaveFile) {\n  const achievementChunk = isaacSaveFile.chunks[ChunkType.ACHIEVEMENTS - 1]\n    .body as AchievementsChunk;\n  const ourAchievements = achievementChunk.achievements;\n  const numAchievements = achievementChunk.count - 1; // Account for the 0th element\n\n  fillTable(\n    \"achievements\",\n    ourAchievements,\n    numAchievements,\n    fillAchievementsAddRow,\n  );\n}\n\nfunction fillAchievementsAddRow(i: number, tBody: HTMLTableElement) {\n  const rowData: string[] = [];\n\n  const id = i.toString();\n  rowData.push(id);\n\n  const key = id as keyof typeof achievements;\n  const description = achievements[key];\n  if (description === undefined) {\n    throw new Error(`Failed to find the achievement for ID: ${id}`);\n  }\n  const { name, link, inGameDescription, unlockDescription } = description;\n\n  const linkedName =\n    link === \"\" ? name : `<a href=${WIKI_PREFIX}${link}>${name}</a>`;\n  rowData.push(linkedName);\n\n  const image = `<img src=\"img/achievements/${id}.png\" />`;\n  rowData.push(image);\n\n  rowData.push(inGameDescription);\n  rowData.push(unlockDescription);\n\n  addRow(tBody, rowData);\n}\n\nfunction fillCollectibles(isaacSaveFile: IsaacSaveFile) {\n  const collectiblesChunk = isaacSaveFile.chunks[ChunkType.COLLECTIBLES - 1]\n    .body as CollectiblesChunk;\n  const ourCollectibles = collectiblesChunk.seenById;\n\n  // We can't derive the number of collectibles from the save file, because they are not contiguous\n  // Instead, we derive it from the JSON file\n  const numCollectibles = getNumCollectiblesFromJSON();\n\n  fillTable(\n    \"collectibles\",\n    ourCollectibles,\n    numCollectibles,\n    fillCollectiblesAddRow,\n  );\n}\n\nfunction getNumCollectiblesFromJSON() {\n  let numCollectibles = 0;\n  for (const key of Object.keys(items)) {\n    const collectibleType = parseIntSafe(key);\n    if (Number.isNaN(collectibleType)) {\n      continue;\n    }\n\n    if (collectibleType > 0 && collectibleType < 1000) {\n      numCollectibles += 1;\n    }\n  }\n\n  return numCollectibles;\n}\n\nfunction fillCollectiblesAddRow(i: number, tBody: HTMLTableElement) {\n  // The collectible IDs are not contiguous, so do nothing if this particular item does not exist\n  const collectibleDescription = getCollectibleDescription(i);\n  if (collectibleDescription === undefined) {\n    return;\n  }\n  const { name } = collectibleDescription;\n\n  const rowData: string[] = [];\n\n  const id = i.toString();\n  rowData.push(id);\n  rowData.push(name);\n\n  const filename = id.padStart(3, \"0\");\n  const image = `<img src=\"img/collectibles/collectibles_${filename}.png\" />`;\n  rowData.push(image);\n\n  const pools = \"Unknown\"; // TODO\n  rowData.push(pools);\n\n  addRow(tBody, rowData);\n}\n\nfunction getCollectibleDescription(id: number) {\n  const key = id as unknown as keyof typeof items;\n  const itemDescription = items[key];\n\n  return itemDescription;\n}\n\nfunction fillEasterEggs(isaacSaveFile: IsaacSaveFile) {\n  const easterEggChunk = isaacSaveFile.chunks[\n    ChunkType.SPECIAL_SEED_COUNTERS - 1\n  ].body as SpecialSeedCountersChunk;\n  const ourEasterEggs = easterEggChunk.countById;\n\n  // We can't derive the number of easter eggs from the save file, because they are not contiguous\n  // Instead, we derive it from the JSON file\n  const numEasterEggs = getNumEasterEggsFromJSON();\n\n  fillTable(\"easter-eggs\", ourEasterEggs, numEasterEggs, fillEasterEggsAddRow);\n}\n\nfunction getNumEasterEggsFromJSON() {\n  let numEasterEggs = 0;\n  for (const key of Object.keys(easterEggs)) {\n    const collectibleType = parseIntSafe(key);\n    if (Number.isNaN(collectibleType)) {\n      continue;\n    }\n\n    numEasterEggs += 1;\n  }\n\n  return numEasterEggs;\n}\n\nfunction fillEasterEggsAddRow(i: number, tBody: HTMLTableElement) {\n  // The easter eggs IDs are not contiguous, so do nothing if this particular item does not exist\n  const easterEggDescription = getEasterEggDescription(i);\n  if (easterEggDescription === undefined) {\n    return;\n  }\n  const { seed, inGameDescription, effectsDescription } = easterEggDescription;\n\n  const rowData: string[] = [];\n\n  const id = i.toString();\n  rowData.push(id);\n  rowData.push(seed);\n  rowData.push(inGameDescription);\n  rowData.push(effectsDescription);\n\n  addRow(tBody, rowData);\n}\n\nfunction getEasterEggDescription(id: number) {\n  const key = id as unknown as keyof typeof easterEggs;\n  const easterEggDescription = easterEggs[key];\n\n  return easterEggDescription;\n}\n\nfunction fillTable(\n  prefix: Prefix,\n  things: number[],\n  numTotal: number,\n  addRowFunc: (i: number, tBody: HTMLTableElement) => void,\n) {\n  const table = getElement(`${prefix}-table`);\n  const tBody = getElement(`${prefix}-table-tbody`) as HTMLTableElement;\n  const completedElement = getElement(`${prefix}-completed`);\n  const numGottenElement = getElement(`${prefix}-gotten`);\n  const numTotalElement = getElement(`${prefix}-total`);\n\n  let numGotten = 0;\n\n  // There is never a thing corresponding to the 0th element in the array, so we skip it\n  for (let i = 1; i < things.length; i++) {\n    const gotten = things[i] !== 0;\n\n    // Some arrays contain data that is not contiguous\n    if (gotten) {\n      if (\n        (prefix === \"collectibles\" && !isValidCollectibleID(i)) ||\n        (prefix === \"easter-eggs\" && !isValidEasterEgg(i))\n      ) {\n        continue;\n      }\n\n      numGotten += 1;\n    } else {\n      addRowFunc(i, tBody);\n    }\n  }\n\n  numGottenElement.innerHTML = numGotten.toString();\n  numTotalElement.innerHTML = numTotal.toString();\n\n  if (numGotten === numTotal) {\n    hide(table);\n  } else {\n    hide(completedElement);\n  }\n}\n\nfunction addRow(tBody: HTMLTableElement, rowData: string[]) {\n  const row = tBody.insertRow();\n  for (const data of rowData) {\n    row.insertCell().innerHTML = data;\n  }\n}\n\nfunction isValidCollectibleID(id: number) {\n  return getCollectibleDescription(id) !== undefined;\n}\n\nfunction isValidEasterEgg(id: number) {\n  return getEasterEggDescription(id) !== undefined;\n}\n","import { fillPage } from \"./fillPage\";\nimport { selectSaveFileError } from \"./selectSaveFileSubroutines\";\n\nconst HEADER_LENGTH = 16;\n\n// Run files are ones that contain data for a run that has been exited mid-way through\n// e.g. gamestate1.dat\nconst REBIRTH_RUN_HEADER = \"ISAACNG_GSR0018\";\nconst AFTERBIRTH_RUN_HEADER = \"ISAACNG_GSR0034\";\nconst AFTERBIRTH_PLUS_RUN_HEADER = \"ISAACNG_GSR0065\";\nconst REPENTANCE_RUN_HEADER = \"ISAACNG_GSR0142\";\nconst RUN_HEADERS = new Set([\n  REBIRTH_RUN_HEADER,\n  AFTERBIRTH_RUN_HEADER,\n  AFTERBIRTH_PLUS_RUN_HEADER,\n  REPENTANCE_RUN_HEADER,\n]);\n\n// Persistent files are ones that contain data for the entire save file\n// e.g. persistentgamedata1.dat\nconst REBIRTH_PERSISTENT_HEADER = \"ISAACNGSAVE06R\";\nconst AFTERBIRTH_PERSISTENT_HEADER = \"ISAACNGSAVE08R\";\nconst AFTERBIRTH_PLUS_AND_REPENTANCE_PERSISTENT_HEADER = \"ISAACNGSAVE09R\";\n\n// Afterbirth+ actually has 403 achievements, but the size of the array is 404 because there is no\n// 0th achievement\nconst NUM_AFTERBIRTH_PLUS_ACHIEVEMENTS = 404;\n\nexport function readFile(files: FileList) {\n  const file = files[0];\n  const inputReader = new FileReader();\n  inputReader.addEventListener(\"load\", inputReaderLoad);\n  inputReader.readAsArrayBuffer(file);\n}\n\nfunction inputReaderLoad(this: FileReader) {\n  try {\n    const isaacSaveFile = parseSaveFile(this);\n    fillPage(isaacSaveFile);\n  } catch (err) {\n    selectSaveFileError(err);\n  }\n}\n\nfunction parseSaveFile(fileReader: FileReader): IsaacSaveFile {\n  const arrayBuffer = fileReader.result;\n  if (arrayBuffer === null || typeof arrayBuffer === \"string\") {\n    throw new Error(\"The file array buffer was an unknown type.\");\n  }\n\n  verifyHeader(arrayBuffer);\n\n  // The format of the save file was reversed by Blade using: https://ide.kaitai.io/\n  // It produces a JavaScript decoder that we leverage here\n  const kaitaiStream = new KaitaiStream(arrayBuffer);\n  const isaacSaveFile = new IsaacSaveFile(kaitaiStream);\n\n  verifyNotAfterbirthPlus(isaacSaveFile);\n\n  return isaacSaveFile;\n}\n\nfunction verifyHeader(arrayBuffer: ArrayBuffer) {\n  // Before we invoke the real parser, we manually extract the header\n  // (for the purposes of showing a better error message)\n  const headerBytes = arrayBuffer.slice(0, HEADER_LENGTH);\n  const header = arrayBufferToString(headerBytes);\n\n  if (RUN_HEADERS.has(header)) {\n    throw new Error(\n      'That is a file that stores the temporary game state for a specific run.<br />You need to instead select the \"persistent\" file that contains the data for the entire save file.',\n    );\n  }\n\n  let headerGameType: string | undefined;\n  if (header === REBIRTH_PERSISTENT_HEADER) {\n    headerGameType = \"Rebirth\";\n  } else if (header === AFTERBIRTH_PERSISTENT_HEADER) {\n    headerGameType = \"Afterbirth\";\n  }\n\n  if (headerGameType !== undefined) {\n    errorWrongGameType(headerGameType);\n  }\n\n  if (header !== AFTERBIRTH_PLUS_AND_REPENTANCE_PERSISTENT_HEADER) {\n    console.error(\"Unknown header:\");\n    console.error(header);\n    throw new Error(\n      \"That is not a valid save file for <i>The Binding of Isaac: Repentance</i>.\",\n    );\n  }\n}\n\nfunction arrayBufferToString(arrayBuffer: ArrayBuffer) {\n  const textDecoder = new TextDecoder(\"utf-8\");\n  const string = textDecoder.decode(arrayBuffer).trim();\n  return removeNullCharacters(string).trim();\n}\n\nfunction removeNullCharacters(string: string) {\n  return string.replace(/\\0/g, \"\");\n}\n\nfunction verifyNotAfterbirthPlus(isaacSaveFile: IsaacSaveFile) {\n  // Since Afterbirth+ has the same save file header as Repentance,\n  // we must use some other save file property to tell the difference\n  const achievements = isaacSaveFile.chunks[ChunkType.ACHIEVEMENTS - 1];\n  if (achievements.len === NUM_AFTERBIRTH_PLUS_ACHIEVEMENTS) {\n    errorWrongGameType(\"Afterbirth+\");\n  }\n}\n\nfunction errorWrongGameType(gameType: string) {\n  throw new Error(\n    `That is a save file for <i>The Binding of Isaac: ${gameType}</i>.<br />This site only supports save files for <i>The Binding of Isaac: Repentance</i>.`,\n  );\n}\n","import { readFile } from \"./readFile\";\nimport { getSelectSaveFileButton } from \"./selectSaveFileSubroutines\";\n\nexport function selectSaveFileButtonInit() {\n  const chooseSaveFileButton = getSelectSaveFileButton();\n  chooseSaveFileButton.addEventListener(\"change\", chooseSaveFileButtonUsed);\n}\n\nfunction chooseSaveFileButtonUsed(event: Event) {\n  if (event.target === null) {\n    return;\n  }\n\n  const inputElement = event.target as HTMLInputElement;\n  const { files } = inputElement;\n  if (files === null) {\n    return;\n  }\n\n  if (files.length === 0) {\n    return;\n  }\n\n  readFile(files);\n}\n","import { getElement, hide, show } from \"./util\";\n\nconst CHOOSE_SAVE_FILE_BUTTON_ID = \"choose-save-file\";\nconst CHOOSE_SAVE_FILE_ERROR_ID = \"choose-save-file-error\";\nconst CHOOSE_SAVE_FILE_ERROR_TEXT_ID = \"choose-save-file-error-text\";\nconst CHOOSE_SAVE_FILE_COLUMN_ID = \"choose-save-file-column\";\n\nexport function getSelectSaveFileButton() {\n  return getElement(CHOOSE_SAVE_FILE_BUTTON_ID);\n}\n\nexport function selectSaveFileError(err: unknown) {\n  const errorElement = getElement(CHOOSE_SAVE_FILE_ERROR_ID);\n  show(errorElement);\n  const errorTextElement = getElement(CHOOSE_SAVE_FILE_ERROR_TEXT_ID);\n  errorTextElement.innerHTML = `${err}`;\n}\n\nexport function hideSelectSaveFileArea() {\n  const saveFileArea = getElement(CHOOSE_SAVE_FILE_COLUMN_ID);\n  hide(saveFileArea);\n}\n","import { getElement, toggle } from \"./util\";\n\nconst ACHIEVEMENTS_TOGGLE_ID = \"achievements-toggle\";\nconst COLLECTIBLES_TOGGLE_ID = \"collectibles-toggle\";\nconst ACHIEVEMENTS_SECTION_ID = \"achievements-section\";\nconst COLLECTIBLES_SECTION_ID = \"collectibles-section\";\nconst HIDE_TEXT = \"Hide\";\nconst SHOW_TEXT = \"Show\";\n\nexport function toggleLinksInit() {\n  const achievementsToggle = getElement(ACHIEVEMENTS_TOGGLE_ID);\n  achievementsToggle.addEventListener(\"click\", () => {\n    const achievementsTable = getElement(ACHIEVEMENTS_SECTION_ID);\n    toggle(achievementsTable);\n    swapLinkText(achievementsToggle);\n  });\n\n  const collectiblesToggle = getElement(COLLECTIBLES_TOGGLE_ID);\n  collectiblesToggle.addEventListener(\"click\", () => {\n    const collectiblesTable = getElement(COLLECTIBLES_SECTION_ID);\n    toggle(collectiblesTable);\n    swapLinkText(collectiblesToggle);\n  });\n}\n\nfunction swapLinkText(element: HTMLElement) {\n  const newLinkText = element.innerHTML === HIDE_TEXT ? SHOW_TEXT : HIDE_TEXT;\n  element.innerHTML = newLinkText;\n}\n","const DISPLAY_VISIBLE = \"block\";\nconst DISPLAY_HIDDEN = \"none\";\n\n/** Helper function to get type safety on a switch statement. */\nexport const ensureAllCases = (obj: never): never => obj;\n\nexport function getElement(id: string) {\n  const element = document.getElementById(id);\n  if (element === null) {\n    throw new Error(`Failed to find the element with ID: ${id}`);\n  }\n\n  return element;\n}\n\nexport function hide(element: HTMLElement) {\n  element.style.display = DISPLAY_HIDDEN;\n}\n\n/**\n * parseIntSafe is a more reliable version of parseInt. By default, \"parseInt('1a')\" will return\n * \"1\", which is unexpected. This returns either an integer or NaN.\n */\nexport function parseIntSafe(input: string): number {\n  if (typeof input !== \"string\") {\n    return NaN;\n  }\n\n  // Remove all leading and trailing whitespace\n  let trimmedInput = input.trim();\n\n  const isNegativeNumber = trimmedInput.startsWith(\"-\");\n  if (isNegativeNumber) {\n    // Remove the leading minus sign before we match the regular expression\n    trimmedInput = trimmedInput.substring(1);\n  }\n\n  if (/^\\d+$/.exec(trimmedInput) === null) {\n    // \"\\d\" matches any digit (same as \"[0-9]\")\n    return NaN;\n  }\n\n  if (isNegativeNumber) {\n    // Add the leading minus sign back\n    trimmedInput = `-${trimmedInput}`;\n  }\n\n  return parseInt(trimmedInput, 10);\n}\n\nexport function show(element: HTMLElement) {\n  element.style.display = DISPLAY_VISIBLE;\n}\n\nexport function toggle(element: HTMLElement) {\n  if (element.style.display === DISPLAY_HIDDEN) {\n    show(element);\n  } else {\n    hide(element);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import { selectSaveFileButtonInit } from \"./selectSaveFile\";\nimport { toggleLinksInit } from \"./toggle\";\n\nwindow.onload = () => {\n  selectSaveFileButtonInit();\n  toggleLinksInit();\n};\n"],"names":[],"sourceRoot":""}
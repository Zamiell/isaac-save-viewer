{"version":3,"file":"main.js","mappings":"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","sources":["webpack://isaac-save-viewer/./src/constants.ts","webpack://isaac-save-viewer/./src/fillPage.ts","webpack://isaac-save-viewer/./src/readFile.ts","webpack://isaac-save-viewer/./src/saveFileFormat.ts","webpack://isaac-save-viewer/./src/selectSaveFile.ts","webpack://isaac-save-viewer/./src/selectSaveFileSubroutines.ts","webpack://isaac-save-viewer/./src/toggle.ts","webpack://isaac-save-viewer/./src/types/DataType.ts","webpack://isaac-save-viewer/./src/util.ts","webpack://isaac-save-viewer/webpack/bootstrap","webpack://isaac-save-viewer/./src/main.ts"],"sourcesContent":["/** Achievement 637 is Dead God. All of the achievement IDs are contiguous. */\nexport const NUM_ACHIEVEMENTS = 637;\n\n/** Collectible 732 is Mom's Ring. The collectible IDs are not contiguous. */\nexport const HIGHEST_COLLECTIBLE_ID = 732;\n","import { NUM_ACHIEVEMENTS } from \"./constants\";\nimport * as achievements from \"./data/achievements.json\";\nimport * as items from \"./data/items.json\";\nimport { SaveFile } from \"./saveFileFormat\";\nimport { hideSelectSaveFileArea } from \"./selectSaveFileSubroutines\";\nimport { AchievementsJSONEntry } from \"./types/AchievementsJSONEntry\";\nimport { ItemsJSONEntry } from \"./types/ItemsJSONEntry\";\nimport { getElement, hide, parseIntSafe, show } from \"./util\";\n\nconst SAVE_FILE_STATS_ID = \"save-file-stats\";\n\nexport const ACHIEVEMENTS_TABLE_ID = \"achievements-table\";\nconst ACHIEVEMENTS_TBODY_ID = \"achievements-table-tbody\";\nconst ACHIEVEMENTS_ALL_UNLOCKED_ID = \"achievements-all-unlocked\";\nconst NUM_ACHIEVEMENTS_UNLOCKED_ID = \"num-achievements-unlocked\";\nconst TOTAL_ACHIEVEMENTS_ID = \"total-achievements\";\n\nexport const COLLECTIBLES_TABLE_ID = \"collectibles-table\";\nconst COLLECTIBLES_TBODY_ID = \"collectibles-table-tbody\";\nconst COLLECTIBLES_ALL_TOUCHED_ID = \"collectibles-all-touched\";\nconst NUM_COLLECTIBLES_TOUCHED_ID = \"num-collectibles-touched\";\nconst TOTAL_COLLECTIBLES_ID = \"total-collectibles\";\n\nconst WIKI_PREFIX = \"https://bindingofisaacrebirth.fandom.com/wiki/\";\n\nexport function fillPage(saveFile: SaveFile) {\n  hideSelectSaveFileArea();\n\n  const saveFileStats = getElement(SAVE_FILE_STATS_ID);\n  show(saveFileStats);\n\n  const numCollectibles = getNumCollectibles();\n\n  fillAchievements(saveFile);\n  fillCollectibles(saveFile, numCollectibles);\n}\n\nfunction getNumCollectibles() {\n  let numCollectibles = 0;\n  for (const key of Object.keys(items)) {\n    const collectibleType = parseIntSafe(key);\n    if (Number.isNaN(collectibleType)) {\n      continue;\n    }\n\n    if (collectibleType > 0 && collectibleType < 1000) {\n      numCollectibles += 1;\n    }\n  }\n\n  return numCollectibles;\n}\n\nfunction fillAchievements(saveFile: SaveFile) {\n  const achievementsTable = getElement(ACHIEVEMENTS_TABLE_ID);\n  const achievementsTBody = getElement(\n    ACHIEVEMENTS_TBODY_ID,\n  ) as HTMLTableElement;\n  const achievementsAllUnlockedElement = getElement(\n    ACHIEVEMENTS_ALL_UNLOCKED_ID,\n  );\n  const numAchievementsUnlockedElement = getElement(\n    NUM_ACHIEVEMENTS_UNLOCKED_ID,\n  );\n  const totalAchievementsElement = getElement(TOTAL_ACHIEVEMENTS_ID);\n\n  let numAchievementsUnlocked = 0;\n  for (let i = 0; i < saveFile.achievements.length; i++) {\n    const achievementUnlocked = saveFile.achievements[i];\n    if (achievementUnlocked !== 0) {\n      numAchievementsUnlocked += 1;\n      continue;\n    }\n\n    const row = achievementsTBody.insertRow();\n    const rowData: string[] = [];\n\n    const id = (i + 1).toString();\n    rowData.push(id);\n\n    const key = id as keyof typeof achievements;\n    const achievementDescription = achievements[key] as AchievementsJSONEntry;\n\n    const { name, link, inGameDescription, unlockDescription } =\n      achievementDescription;\n\n    const linkedName =\n      link === \"\" ? name : `<a href=${WIKI_PREFIX}${link}>${name}</a>`;\n    rowData.push(linkedName);\n    const image = `<img src=\"img/achievements/${id}.png\" />`;\n    rowData.push(image);\n    rowData.push(inGameDescription);\n    rowData.push(unlockDescription);\n\n    for (const data of rowData) {\n      row.insertCell().innerHTML = data;\n    }\n  }\n\n  numAchievementsUnlockedElement.innerHTML = numAchievementsUnlocked.toString();\n  totalAchievementsElement.innerHTML = NUM_ACHIEVEMENTS.toString();\n\n  if (numAchievementsUnlocked === NUM_ACHIEVEMENTS) {\n    hide(achievementsTable);\n  } else {\n    hide(achievementsAllUnlockedElement);\n  }\n}\n\nfunction fillCollectibles(saveFile: SaveFile, numCollectibles: number) {\n  const collectiblesTable = getElement(COLLECTIBLES_TABLE_ID);\n  const collectiblesTBody = getElement(\n    COLLECTIBLES_TBODY_ID,\n  ) as HTMLTableElement;\n  const collectiblesAllTouchedElement = getElement(COLLECTIBLES_ALL_TOUCHED_ID);\n  const numCollectiblesTouchedElement = getElement(NUM_COLLECTIBLES_TOUCHED_ID);\n  const totalCollectiblesElement = getElement(TOTAL_COLLECTIBLES_ID);\n\n  let numCollectiblesTouched = 0;\n  for (let i = 0; i < saveFile.touchedCollectibles.length; i++) {\n    const id = (i + 1).toString();\n    const key = id as keyof typeof items;\n    const itemDescription = items[key] as ItemsJSONEntry;\n    if (itemDescription === undefined) {\n      // The collectible IDs are not contiguous\n      continue;\n    }\n\n    const collectibleTouched = saveFile.touchedCollectibles[i];\n    if (collectibleTouched !== 0) {\n      numCollectiblesTouched += 1;\n      continue;\n    }\n\n    const row = collectiblesTBody.insertRow();\n    const rowData: string[] = [];\n\n    rowData.push(id);\n\n    const { name } = itemDescription;\n    rowData.push(name);\n\n    const filename = id.padStart(3, \"0\");\n    const image = `<img src=\"img/collectibles/collectibles_${filename}.png\" />`;\n    rowData.push(image);\n\n    const pools = \"Unknown\"; // TODO\n    rowData.push(pools);\n\n    for (const data of rowData) {\n      row.insertCell().innerHTML = data;\n    }\n  }\n\n  numCollectiblesTouchedElement.innerHTML = numCollectiblesTouched.toString();\n  totalCollectiblesElement.innerHTML = numCollectibles.toString();\n\n  if (numCollectiblesTouched === numCollectibles) {\n    hide(collectiblesTable);\n  } else {\n    hide(collectiblesAllTouchedElement);\n  }\n}\n","import { fillPage } from \"./fillPage\";\nimport { SaveFile, SAVE_FILE_STRUCT } from \"./saveFileFormat\";\nimport { selectSaveFileError } from \"./selectSaveFileSubroutines\";\nimport { DataType } from \"./types/DataType\";\nimport { ensureAllCases } from \"./util\";\n\nconst CORRECT_HEADER = \"ISAACNGSAVE09R\";\n\nconst textDecoder = new TextDecoder(\"utf-8\");\n\nexport function readFile(files: FileList) {\n  const file = files[0];\n  const inputReader = new FileReader();\n  inputReader.addEventListener(\"load\", loadedFile);\n  inputReader.readAsArrayBuffer(file);\n}\n\nfunction loadedFile(this: FileReader) {\n  const fileArrayBuffer = this.result;\n  if (fileArrayBuffer === null || typeof fileArrayBuffer === \"string\") {\n    return;\n  }\n\n  const parsedFields: Record<string, unknown> = {};\n\n  for (const [fieldName, tuple] of Object.entries(SAVE_FILE_STRUCT)) {\n    const [startByte, endByte, dataType] = tuple;\n    const fieldArrayBuffer = fileArrayBuffer.slice(startByte, endByte);\n    const field = convertArrayBufferToPrimitive(fieldArrayBuffer, dataType);\n    parsedFields[fieldName] = field;\n  }\n\n  const saveFile = parsedFields as unknown as SaveFile;\n\n  if (saveFile.header !== CORRECT_HEADER) {\n    selectSaveFileError(\n      \"Error: That is not a valid save file for <i>The Binding of Isaac: Repentance</i>.\",\n    );\n    return;\n  }\n\n  fillPage(saveFile);\n}\n\nfunction convertArrayBufferToPrimitive(\n  arrayBuffer: ArrayBuffer,\n  dataType: DataType,\n) {\n  switch (dataType) {\n    case DataType.STRING: {\n      return textDecoder.decode(arrayBuffer).trim();\n    }\n\n    case DataType.INT_ARRAY: {\n      const typedArray = new Uint8Array(arrayBuffer);\n      return Array.from(typedArray);\n    }\n\n    case DataType.UNKNOWN: {\n      return arrayBuffer;\n    }\n\n    default: {\n      ensureAllCases(dataType);\n      return null;\n    }\n  }\n}\n","import { HIGHEST_COLLECTIBLE_ID, NUM_ACHIEVEMENTS } from \"./constants\";\nimport { DataType } from \"./types/DataType\";\n\nexport interface SaveFile {\n  header: string;\n  unknown: ArrayBuffer;\n  achievements: number[];\n  touchedCollectibles: number[];\n  checksum: ArrayBuffer;\n}\n\n/** Each field is specified by a 3-tuple of start byte, end byte, and data type. */\nexport const SAVE_FILE_STRUCT: Record<\n  keyof SaveFile,\n  [number, number, DataType]\n> = {\n  // Contains \"ISAACNGSAVE09R\", with the final three characters being the version of the save file\n  header: [0, 15, DataType.STRING],\n\n  // 4 bytes after the header that always change as soon as the file is saved again\n  // Might be a checksum of some kind?\n  unknown: [16, 19, DataType.UNKNOWN],\n\n  // One byte per achievement, in order\n  // The byte is set to 0 if they don't have the achievement\n  // The byte is set to 1 if they do have the achievement\n  achievements: [33, 33 + NUM_ACHIEVEMENTS, DataType.INT_ARRAY],\n\n  // One byte per touched collectible, in order\n  // The byte is set to 0 if they have not yet touched the collectible\n  // The byte is set to 1 if they have touched the collectible\n  touchedCollectibles: [\n    2747,\n    2747 + HIGHEST_COLLECTIBLE_ID,\n    DataType.INT_ARRAY,\n  ],\n\n  // The last 8 bytes are a CRC32 checksum of the rest of the data\n  // The offset of this will change depending on how large the save file is\n  // See: https://github.com/bladecoding/IsaacSaveFileCrc\n  checksum: [0, 0, DataType.UNKNOWN],\n};\n","import { readFile } from \"./readFile\";\nimport { getSelectSaveFileButton } from \"./selectSaveFileSubroutines\";\n\nexport function selectSaveFileButtonInit() {\n  const chooseSaveFileButton = getSelectSaveFileButton();\n  chooseSaveFileButton.addEventListener(\"change\", chooseSaveFileButtonUsed);\n}\n\nfunction chooseSaveFileButtonUsed(event: Event) {\n  if (event.target === null) {\n    return;\n  }\n\n  const inputElement = event.target as HTMLInputElement;\n  const { files } = inputElement;\n  if (files === null) {\n    return;\n  }\n\n  if (files.length === 0) {\n    return;\n  }\n\n  readFile(files);\n}\n","import { getElement, hide, show } from \"./util\";\n\nconst CHOOSE_SAVE_FILE_BUTTON_ID = \"choose-save-file\";\nconst CHOOSE_SAVE_FILE_ERROR_ID = \"choose-save-file-error\";\nconst CHOOSE_SAVE_FILE_ERROR_TEXT_ID = \"choose-save-file-error-text\";\nconst CHOOSE_SAVE_FILE_COLUMN_ID = \"choose-save-file-column\";\n\nexport function getSelectSaveFileButton() {\n  return getElement(CHOOSE_SAVE_FILE_BUTTON_ID);\n}\n\nexport function selectSaveFileError(msg: string) {\n  const errorElement = getElement(CHOOSE_SAVE_FILE_ERROR_ID);\n  show(errorElement);\n  const errorTextElement = getElement(CHOOSE_SAVE_FILE_ERROR_TEXT_ID);\n  errorTextElement.innerHTML = msg;\n}\n\nexport function hideSelectSaveFileArea() {\n  const saveFileArea = getElement(CHOOSE_SAVE_FILE_COLUMN_ID);\n  hide(saveFileArea);\n}\n","import { getElement, toggle } from \"./util\";\n\nconst ACHIEVEMENTS_TOGGLE_ID = \"achievements-toggle\";\nconst COLLECTIBLES_TOGGLE_ID = \"collectibles-toggle\";\nconst ACHIEVEMENTS_SECTION_ID = \"achievements-section\";\nconst COLLECTIBLES_SECTION_ID = \"collectibles-section\";\nconst HIDE_TEXT = \"Hide\";\nconst SHOW_TEXT = \"Show\";\n\nexport function toggleLinksInit() {\n  const achievementsToggle = getElement(ACHIEVEMENTS_TOGGLE_ID);\n  achievementsToggle.addEventListener(\"click\", () => {\n    const achievementsTable = getElement(ACHIEVEMENTS_SECTION_ID);\n    toggle(achievementsTable);\n    swapLinkText(achievementsToggle);\n  });\n\n  const collectiblesToggle = getElement(COLLECTIBLES_TOGGLE_ID);\n  collectiblesToggle.addEventListener(\"click\", () => {\n    const collectiblesTable = getElement(COLLECTIBLES_SECTION_ID);\n    toggle(collectiblesTable);\n    swapLinkText(collectiblesToggle);\n  });\n}\n\nfunction swapLinkText(element: HTMLElement) {\n  const newLinkText = element.innerHTML === HIDE_TEXT ? SHOW_TEXT : HIDE_TEXT;\n  element.innerHTML = newLinkText;\n}\n","export enum DataType {\n  STRING,\n  INT_ARRAY,\n  UNKNOWN,\n}\n","const DISPLAY_VISIBLE = \"block\";\nconst DISPLAY_HIDDEN = \"none\";\n\n/** Helper function to get type safety on a switch statement. */\nexport const ensureAllCases = (obj: never): never => obj;\n\nexport function getElement(id: string) {\n  const element = document.getElementById(id);\n  if (element === null) {\n    throw new Error(`Failed to find the element with ID: ${element}`);\n  }\n\n  return element;\n}\n\nexport function hide(element: HTMLElement) {\n  element.style.display = DISPLAY_HIDDEN;\n}\n\n/**\n * parseIntSafe is a more reliable version of parseInt. By default, \"parseInt('1a')\" will return\n * \"1\", which is unexpected. This returns either an integer or NaN.\n */\nexport function parseIntSafe(input: string): number {\n  if (typeof input !== \"string\") {\n    return NaN;\n  }\n\n  // Remove all leading and trailing whitespace\n  let trimmedInput = input.trim();\n\n  const isNegativeNumber = trimmedInput.startsWith(\"-\");\n  if (isNegativeNumber) {\n    // Remove the leading minus sign before we match the regular expression\n    trimmedInput = trimmedInput.substring(1);\n  }\n\n  if (/^\\d+$/.exec(trimmedInput) === null) {\n    // \"\\d\" matches any digit (same as \"[0-9]\")\n    return NaN;\n  }\n\n  if (isNegativeNumber) {\n    // Add the leading minus sign back\n    trimmedInput = `-${trimmedInput}`;\n  }\n\n  return parseInt(trimmedInput, 10);\n}\n\nexport function show(element: HTMLElement) {\n  element.style.display = DISPLAY_VISIBLE;\n}\n\nexport function toggle(element: HTMLElement) {\n  if (element.style.display === DISPLAY_HIDDEN) {\n    show(element);\n  } else {\n    hide(element);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import { selectSaveFileButtonInit } from \"./selectSaveFile\";\nimport { toggleLinksInit } from \"./toggle\";\n\nwindow.onload = () => {\n  selectSaveFileButtonInit();\n  toggleLinksInit();\n};\n"],"names":[],"sourceRoot":""}